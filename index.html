<!DOCTYPE html>
<html lang="zh-Hant-HK">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MoneyHero - Personal Loan Approval Odds Prototype</title>
<style>
  /* ── Password Gate ── */
  #password-gate{position:fixed;inset:0;z-index:9999;background:#1a1a2e;display:flex;align-items:center;justify-content:center}
  #password-gate.hidden{display:none}
  .gate-box{background:#fff;border-radius:16px;padding:40px 36px;text-align:center;box-shadow:0 8px 32px rgba(0,0,0,.3);max-width:380px;width:90%}
  .gate-box h2{font-size:18px;color:#333;margin-bottom:6px}
  .gate-box p{font-size:13px;color:#888;margin-bottom:24px}
  .gate-box input{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:15px;text-align:center;outline:none}
  .gate-box input:focus{border-color:#00b7b2}
  .gate-box input.error{border-color:#ef4444;animation:shake .3s}
  @keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-6px)}75%{transform:translateX(6px)}}
  .gate-box button{margin-top:16px;width:100%;padding:12px;border:none;border-radius:8px;background:#00b7b2;color:#fff;font-size:15px;font-weight:600;cursor:pointer}
  .gate-error{color:#ef4444;font-size:12px;margin-top:8px;min-height:18px}
  #app-content{display:none}
  #app-content.visible{display:block}

  /* ── Base ── */
  *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
  body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans TC","PingFang HK",sans-serif;background:#f5f5f5;color:#333;font-size:14px;line-height:1.5}
  a{text-decoration:none;color:inherit}
  img{display:block;max-width:100%}

  /* ── Proto Controls ── */
  .proto-controls{position:sticky;top:0;z-index:1000;background:#1a1a2e;color:#fff;padding:10px 16px;display:flex;align-items:center;gap:10px;flex-wrap:wrap}
  .proto-controls .plabel{font-size:10px;text-transform:uppercase;letter-spacing:.8px;opacity:.5}
  .proto-controls .btn-group{display:flex;gap:6px}
  .proto-controls button{padding:6px 12px;border:1.5px solid rgba(255,255,255,.3);border-radius:5px;background:transparent;color:#fff;font-size:11px;font-weight:600;cursor:pointer;white-space:nowrap}
  .proto-controls button:hover{border-color:#fff}
  .proto-controls button.active{background:#fff;color:#1a1a2e;border-color:#fff}
  .proto-controls .plabel-view{margin-left:auto}

  /* ── Header ── */
  .site-header{background:#fff;border-bottom:1px solid #e0e0e0;padding:10px 20px;display:flex;align-items:center;justify-content:space-between}
  .logo-img{height:28px}
  .hamburger{font-size:22px;color:#333;cursor:pointer;display:none}
  .user-icon{width:32px;height:32px;border-radius:50%;background:#f0f0f0;display:none;align-items:center;justify-content:center;font-size:16px;color:#888}
  .header-nav{display:flex;gap:20px;font-size:14px;color:#555}
  .header-nav .active-link{font-weight:700;color:#00b7b2}

  /* ── Breadcrumb ── */
  .breadcrumb{padding:10px 20px;font-size:12px;color:#888;background:#fff}
  .breadcrumb a{color:#888}
  .breadcrumb a:hover{color:#00b7b2}
  .breadcrumb span{margin:0 4px;color:#ccc}

  /* ── Page Heading ── */
  .page-heading{background:#fff;padding:20px 20px 16px;border-bottom:1px solid #eee}
  .page-heading h1{font-size:26px;font-weight:800;color:#222;line-height:1.3;margin-bottom:6px}
  .page-heading .updated-date{font-size:12px;color:#999;margin-bottom:12px}
  .page-heading .description{font-size:14px;color:#555;line-height:1.6}
  .page-heading .show-more{color:#222;font-weight:600;text-decoration:underline;cursor:pointer;display:inline-block;margin-top:4px;font-size:14px}

  /* ── Why MoneyHero accordion ── */
  .why-mh{background:#fff;border:1px solid #eee;border-radius:10px;padding:14px 18px;margin-bottom:16px;display:flex;align-items:center;gap:10px;cursor:pointer;font-size:14px;font-weight:600;color:#333}
  .why-mh img{width:28px;height:28px;border-radius:50%}
  .why-mh .arrow{margin-left:auto;font-size:12px;color:#999}

  /* ── Container ── */
  .container{max-width:1080px;margin:0 auto;padding:20px 16px}

  /* ── Odds Banner ── */
  .odds-banner{border-radius:10px;padding:14px 18px;margin-bottom:16px;display:flex;align-items:center;gap:10px;font-size:14px;font-weight:500}
  .odds-banner .icon{font-size:18px;flex-shrink:0}
  .odds-banner a{font-weight:600;text-decoration:underline;cursor:pointer}
  .odds-banner.fresh{background:#e6f9f0;border:1px solid #b2ecd3;color:#1a6b44}
  .odds-banner.stale{background:#fff7e6;border:1px solid #ffe0a3;color:#7a5c1f}
  .odds-banner.guest{background:#e8f0fe;border:1px solid #b3cef7;color:#1a3f7a}

  /* ── Tabs ── */
  .tabs{display:flex;gap:8px;margin-bottom:16px;overflow-x:auto;-webkit-overflow-scrolling:touch;padding-bottom:4px}
  .tabs::-webkit-scrollbar{display:none}
  .tab{flex-shrink:0;padding:8px 16px;border-radius:20px;background:#fff;border:1px solid #ddd;font-size:13px;color:#555;cursor:pointer;white-space:nowrap}
  .tab:hover{border-color:#00b7b2;color:#00b7b2}
  .tab.active{background:#00b7b2;color:#fff;border-color:#00b7b2}

  /* ── Quick Summary ── */
  .quick-summary{font-size:13px;font-weight:600;color:#333;margin-bottom:14px;cursor:pointer;display:flex;align-items:center;gap:6px}
  .quick-summary span{font-size:16px}

  /* ── Loan Calculator ── */
  .calc-row{display:flex;gap:12px;margin-bottom:18px}
  .calc-field{flex:1}
  .calc-field label{font-size:12px;color:#777;display:flex;align-items:center;gap:4px;margin-bottom:4px}
  .calc-field label .info-sm{width:14px;height:14px;border-radius:50%;border:1px solid #bbb;display:inline-flex;align-items:center;justify-content:center;font-size:9px;color:#999}
  .calc-field input{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:8px;font-size:15px;font-weight:600;color:#333;background:#fff}

  /* ── Results ── */
  .results-info{font-size:13px;color:#777;margin-bottom:12px}
  .results-info strong{color:#333}

  /* ── View Toggle ── */
  .view-toggle{display:flex;gap:6px;margin-bottom:16px}
  .view-toggle button{padding:7px 14px;border:1px solid #ddd;border-radius:6px;background:#fff;font-size:12px;font-weight:600;color:#555;cursor:pointer}
  .view-toggle button:hover{border-color:#00b7b2;color:#00b7b2}
  .view-toggle button.active{background:#00b7b2;color:#fff;border-color:#00b7b2}

  /* ── Product Table — scrollable wrapper ── */
  .product-table{background:#fff;border-radius:12px;box-shadow:0 1px 4px rgba(0,0,0,.08);overflow-x:auto;-webkit-overflow-scrolling:touch}
  .product-table::-webkit-scrollbar{height:6px}
  .product-table::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px}
  .product-table-inner{min-width:920px}

  .table-header{
    display:grid;
    grid-template-columns:220px 110px 90px 100px 100px 110px 100px;
    padding:12px 16px;background:#fafafa;border-bottom:2px solid #eee;
    font-size:11px;font-weight:600;color:#888;align-items:center;
  }
  .table-header>div{padding:0 6px}
  .col-odds-header{display:flex;align-items:center;gap:4px;color:#e67e00;font-weight:700}
  .col-odds-header .info-icon{display:inline-flex;align-items:center;justify-content:center;width:15px;height:15px;border-radius:50%;border:1.5px solid #e67e00;font-size:9px;cursor:pointer}

  /* JS-positioned tooltip (avoids overflow clip) */
  .floating-tooltip{display:none;position:fixed;background:#333;color:#fff;padding:10px 14px;border-radius:8px;font-size:12px;font-weight:400;width:260px;line-height:1.5;white-space:normal;z-index:9000;box-shadow:0 4px 12px rgba(0,0,0,.2);pointer-events:none}
  .floating-tooltip::after{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border:6px solid transparent;border-top-color:#333}

  /* ── Product Row ── */
  .product-row{
    display:grid;
    grid-template-columns:220px 110px 90px 100px 100px 110px 100px;
    padding:14px 16px;border-bottom:1px solid #f0f0f0;align-items:center;
  }
  .product-row:hover{background:#fafcff}
  .product-row>div{padding:0 6px}

  .provider{display:flex;align-items:center;gap:10px}
  .provider-logo{width:56px;height:56px;border-radius:8px;border:1px solid #eee;display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;background:#fff;padding:4px}
  .provider-logo img{width:100%;height:100%;object-fit:contain}
  .provider-name{font-size:13px;font-weight:600;color:#222;line-height:1.3}
  .provider-tag{display:inline-block;font-size:10px;color:#fff;background:#e67e00;border-radius:3px;padding:1px 6px;margin-top:2px;font-weight:600}
  .provider-tag.tax{background:#0072aa}.provider-tag.fast{background:#8e24aa}.provider-tag.exclusive{background:#d32f2f}.provider-tag.balance{background:#00695c}
  .provider-reward{font-size:11px;color:#e67e00;margin-top:2px}
  .row-expand{font-size:11px;color:#0066cc;cursor:pointer;margin-top:2px;display:inline-flex;align-items:center;gap:3px}
  .row-expand:hover{text-decoration:underline}

  .cell .value{font-weight:700;color:#222;font-size:14px}
  .cell .label{font-size:10px;color:#999;margin-top:1px}

  .btn-apply{padding:9px 14px;border-radius:6px;border:2px solid #e67e00;background:#fff;color:#e67e00;font-size:13px;font-weight:700;cursor:pointer;white-space:nowrap}
  .btn-apply:hover{background:#e67e00;color:#fff}

  /* ── Odds Cell ── */
  .odds-cell{display:flex;flex-direction:column;align-items:center;gap:2px}
  .odds-badge{display:inline-flex;align-items:center;gap:5px;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:700}
  .odds-badge.high{background:#e6f9f0;color:#15803d}
  .odds-badge.high::before{content:'';width:7px;height:7px;border-radius:50%;background:#22c55e}
  .odds-badge.medium{background:#fff7e6;color:#a16207}
  .odds-badge.medium::before{content:'';width:7px;height:7px;border-radius:50%;background:#eab308}
  .odds-badge.low{background:#fef2f2;color:#b91c1c}
  .odds-badge.low::before{content:'';width:7px;height:7px;border-radius:50%;background:#ef4444}
  .odds-signin{font-size:11px;color:#0066cc;font-weight:600;cursor:pointer;text-decoration:underline}
  .odds-stale-label{font-size:9px;color:#a16207;margin-top:1px}

  /* ── Table Expandable Detail ── */
  .product-detail{max-height:0;overflow:hidden;transition:max-height .3s ease;border-bottom:1px solid #f0f0f0}
  .product-detail.open{max-height:500px}
  .product-detail-inner{padding:0 16px 16px}
  .detail-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .detail-section{background:#f8f9fa;border-radius:8px;padding:12px 14px}
  .detail-section-title{font-size:13px;font-weight:700;margin-bottom:6px}
  .detail-section p{font-size:12px;color:#666;line-height:1.6}
  .detail-section .updated{font-size:11px;color:#999;margin-bottom:4px}
  .detail-section .refresh-link{color:#0066cc;font-weight:600;cursor:pointer}
  .detail-odds-value{font-size:14px;font-weight:700;margin-bottom:8px;display:flex;align-items:center;gap:6px}

  /* ═══════════════════════════════════════ */
  /* ── PRODUCT CARDS ── */
  /* ═══════════════════════════════════════ */
  .cards-section{margin-top:32px}
  .cards-section-title{font-size:16px;font-weight:700;color:#222;margin-bottom:16px;display:flex;align-items:center;gap:8px}
  .cards-section-title .count-badge{background:#e67e00;color:#fff;font-size:11px;font-weight:700;border-radius:12px;padding:2px 10px}

  .product-card{background:#fff;border-radius:12px;box-shadow:0 1px 4px rgba(0,0,0,.08);margin-bottom:16px;overflow:hidden}

  /* Card Header */
  .card-header{padding:16px 20px;display:flex;align-items:flex-start;gap:14px}
  .card-logo{width:64px;height:64px;border-radius:10px;border:1px solid #eee;display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;background:#fff;padding:4px}
  .card-logo img{width:100%;height:100%;object-fit:contain}
  .card-header-info{flex:1;min-width:0}
  .card-product-name{font-size:15px;font-weight:700;color:#222;line-height:1.4;margin-bottom:4px}
  .card-tags{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:4px}
  .card-tag{font-size:10px;color:#fff;background:#e67e00;border-radius:3px;padding:2px 8px;font-weight:600}
  .card-tag.tax{background:#0072aa}.card-tag.fast{background:#8e24aa}.card-tag.exclusive{background:#d32f2f}.card-tag.balance{background:#00695c}
  .card-reward-line{font-size:12px;color:#e67e00;font-weight:600}
  .card-header-apply{flex-shrink:0;align-self:center}
  .card-header-apply .btn-apply{padding:10px 20px;font-size:14px}

  /* Card Stats Row */
  .card-stats{display:grid;grid-template-columns:repeat(4,1fr);border-top:1px solid #f0f0f0;border-bottom:1px solid #f0f0f0}
  .card-stat{padding:14px 16px;text-align:center;border-right:1px solid #f0f0f0}
  .card-stat:last-child{border-right:none}
  .card-stat .stat-label{font-size:11px;color:#888;margin-bottom:4px}
  .card-stat .stat-value{font-size:16px;font-weight:700;color:#222}

  /* Card Accordion Sections */
  .card-accordions{padding:0}
  .card-accordion{border-bottom:1px solid #f0f0f0}
  .card-accordion:last-child{border-bottom:none}
  .card-accordion-header{display:flex;align-items:center;justify-content:space-between;padding:14px 20px;cursor:pointer;font-size:14px;font-weight:600;color:#333}
  .card-accordion-header:hover{background:#fafafa}
  .card-accordion-header .acc-arrow{font-size:12px;color:#999;transition:transform .2s}
  .card-accordion-header.open .acc-arrow{transform:rotate(180deg)}
  .card-accordion-body{max-height:0;overflow:hidden;transition:max-height .3s ease}
  .card-accordion-body.open{max-height:400px}
  .card-accordion-content{padding:0 20px 16px}

  /* ── Card Odds Banner (always visible, not in accordion) ── */
  .card-odds-banner{padding:14px 20px;border-top:1px solid #f0f0f0;display:flex;align-items:center;gap:12px;background:#fafcff}
  .card-odds-banner .cob-label{font-size:13px;font-weight:600;color:#e67e00;white-space:nowrap;display:flex;align-items:center;gap:4px}
  .card-odds-banner .cob-label .info-icon{display:inline-flex;align-items:center;justify-content:center;width:14px;height:14px;border-radius:50%;border:1.5px solid #e67e00;font-size:8px;cursor:pointer}
  .card-odds-banner .cob-badge{flex-shrink:0}
  .card-odds-banner .cob-meta{font-size:11px;color:#999;margin-left:auto;white-space:nowrap}
  .card-odds-banner .cob-stale{font-size:11px;color:#a16207}
  .card-odds-banner .cob-refresh{font-size:12px;color:#0066cc;font-weight:600;cursor:pointer;text-decoration:underline;margin-left:auto}
  .card-odds-guest{padding:14px 20px;border-top:1px solid #f0f0f0;background:#f0f5ff;display:flex;align-items:center;gap:10px}
  .card-odds-guest .cob-label{font-size:13px;font-weight:600;color:#e67e00;white-space:nowrap}
  .card-odds-guest a{color:#0066cc;font-weight:600;font-size:13px;text-decoration:underline}

  /* Other accordion content */
  .card-reward-detail{display:flex;align-items:center;gap:10px;padding:8px 0}
  .card-reward-detail .reward-icon{font-size:20px}
  .card-reward-detail .reward-text{font-size:14px;font-weight:600;color:#e67e00}
  .card-steps{list-style:none;counter-reset:step}
  .card-steps li{counter-increment:step;position:relative;padding:6px 0 6px 32px;font-size:13px;color:#555}
  .card-steps li::before{content:counter(step);position:absolute;left:0;top:5px;width:22px;height:22px;border-radius:50%;background:#e67e00;color:#fff;font-size:11px;font-weight:700;display:flex;align-items:center;justify-content:center}
  .card-features li{padding:4px 0;font-size:13px;color:#555;list-style:disc;margin-left:16px}

  /* ── Footer ── */
  .footer{text-align:center;padding:32px 16px;font-size:11px;color:#aaa}

  /* ═══ MOBILE ≤ 768px ═══ */
  @media(max-width:768px){
    .hamburger{display:block}
    .user-icon{display:flex}
    .header-nav{display:none}
    .site-header{padding:10px 16px}
    .logo-img{height:24px}
    .breadcrumb{padding:8px 16px;font-size:11px}
    .page-heading{padding:16px 16px 14px}
    .page-heading h1{font-size:22px}
    .container{padding:16px 12px}
    .odds-banner{padding:12px 14px;font-size:13px}
    .tab{padding:7px 14px;font-size:12px}
    .product-table{border-radius:8px}
    .provider-logo{width:48px;height:48px}
    .provider-name{font-size:12px}
    .provider-reward{font-size:10px}
    .provider-tag{font-size:9px}
    .cell .value{font-size:13px}
    .cell .label{font-size:9px}
    .btn-apply{padding:7px 10px;font-size:12px}
    .odds-badge{font-size:11px;padding:3px 10px}
    .detail-grid{grid-template-columns:1fr}
    .proto-controls{padding:8px 12px;gap:8px}
    .proto-controls button{padding:5px 10px;font-size:10px}
    /* Card mobile */
    .card-header{padding:14px 16px;flex-wrap:wrap}
    .card-logo{width:52px;height:52px}
    .card-product-name{font-size:14px}
    .card-header-apply{width:100%;margin-top:8px}
    .card-header-apply .btn-apply{width:100%;text-align:center;display:block;padding:12px}
    .card-stats{grid-template-columns:repeat(2,1fr)}
    .card-stat{padding:10px 12px}
    .card-stat:nth-child(2){border-right:none}
    .card-stat .stat-value{font-size:14px}
    .card-accordion-header{padding:12px 16px;font-size:13px}
    .card-accordion-content{padding:0 16px 14px}
  }
</style>
</head>
<body>

<!-- Password Gate -->
<div id="password-gate">
  <div class="gate-box">
    <h2>Prototype Access</h2>
    <p>CHC Approval Odds — Internal Review Only</p>
    <input type="password" id="gate-input" placeholder="Enter password" autofocus>
    <div class="gate-error" id="gate-error"></div>
    <button onclick="checkPassword()">Enter</button>
  </div>
</div>

<div id="app-content">

<!-- Proto Controls -->
<div class="proto-controls">
  <span class="plabel">State:</span>
  <div class="btn-group">
    <button class="active" onclick="setState('fresh',this)">Up-to-date</button>
    <button onclick="setState('stale',this)">Stale</button>
    <button onclick="setState('guest',this)">Not Logged In</button>
  </div>
  <span class="plabel-view plabel">View:</span>
  <div class="btn-group">
    <button class="active" onclick="setView('both',this)">Table + Cards</button>
    <button onclick="setView('table',this)">Table Only</button>
    <button onclick="setView('cards',this)">Cards Only</button>
  </div>
</div>

<!-- Header -->
<div class="site-header">
  <div class="hamburger">&#9776;</div>
  <img class="logo-img" src="https://mhgprod.blob.core.windows.net/moneyhero/strapi-uploads/1_moneyhero_dbd2868f87.svg" alt="MoneyHero">
  <div class="header-nav">
    <a href="#">信用卡</a>
    <a href="#" class="active-link">私人貸款</a>
    <a href="#">保險</a>
    <a href="#">按揭</a>
    <a href="#">銀行戶口</a>
  </div>
  <div class="user-icon">&#128100;</div>
</div>

<!-- Breadcrumb -->
<div class="breadcrumb">
  <a href="#">&#127968; 首頁</a><span>/</span><a href="#">私人貸款</a><span>/</span>【借貸2026】即睇特快批核私人貸款利息及...
</div>

<!-- Page Heading -->
<div class="page-heading">
  <h1>【借貸2026】即睇特快批核私人貸款利息及借錢優惠</h1>
  <div class="updated-date">更新日期: 2026年2月5日</div>
  <div class="description">
    私人貸款（P Loan）及低息貸款比較：私人貸款邊間好？貸款優惠 / 利息 / 利率貸款比較 | 私人貸...
    <span class="show-more">顯示更多</span>
  </div>
</div>

<div class="container">

  <!-- Why MoneyHero -->
  <div class="why-mh">
    <img src="https://mhgprod.blob.core.windows.net/moneyhero/strapi-uploads/1_moneyhero_dbd2868f87.svg" alt="" style="width:28px;height:28px;border-radius:50%;object-fit:contain;background:#fff;border:1px solid #eee;padding:2px">
    為什麼透過 MoneyHero 申請貸款？
    <span class="arrow">&#9660;</span>
  </div>

  <!-- Banners -->
  <div class="odds-banner fresh banner-el" data-state="fresh"><span class="icon">&#10003;</span><div>您的批核機會評估已更新 · 根據您最新的信貸報告計算</div></div>
  <div class="odds-banner stale banner-el" data-state="stale" style="display:none"><span class="icon">&#9888;</span><div>您的批核機會評估已過期。<a href="#">登入 Credit Hero Club 以更新</a></div></div>
  <div class="odds-banner guest banner-el" data-state="guest" style="display:none"><span class="icon">&#128274;</span><div>免費查閱信貸報告，即睇您的批核機會。<a href="#">立即登入 Credit Hero Club</a></div></div>

  <!-- Tabs -->
  <div class="tabs">
    <div class="tab active">全部貸款</div><div class="tab">&#128196; 稅季貸款</div><div class="tab">&#11088; 精選貸款</div><div class="tab">&#127974; 財務公司</div><div class="tab">&#127970; 銀行貸款</div><div class="tab">結餘轉戶</div><div class="tab">低息貸款</div><div class="tab">免文件貸款</div><div class="tab">業主貸款</div>
  </div>

  <!-- Quick Summary -->
  <div class="quick-summary"><span>+</span>「快速摘要」</div>

  <!-- Loan Calculator -->
  <div class="calc-row">
    <div class="calc-field">
      <label>貸款額 (HK$) <span class="info-sm">i</span></label>
      <input type="text" value="200,000" readonly>
    </div>
    <div class="calc-field">
      <label>還款期 (月) <span class="info-sm">i</span></label>
      <input type="text" value="24" readonly>
    </div>
  </div>

  <div class="results-info ri">顯示 <strong>59</strong> 個貸款產品，按批核機會排序</div>

  <!-- ═══ PRODUCT TABLE ═══ -->
  <div class="product-table" id="table-view">
    <div class="product-table-inner">
      <div class="table-header">
        <div>銀行 / 財務公司</div>
        <div class="col-odds-header">批核機會 <span class="info-icon" onmouseenter="showTooltip(event)" onmouseleave="hideTooltip()">&#9432;</span></div>
        <div>實際年利率</div>
        <div>每月還款</div>
        <div>總利息支出</div>
        <div>MoneyHero 獨家</div>
        <div></div>
      </div>
      <div id="product-list"></div>
    </div>
  </div>

  <!-- ═══ PRODUCT CARDS ═══ -->
  <div class="cards-section" id="cards-view">
    <div class="cards-section-title">產品詳情 <span class="count-badge">20</span></div>
    <div id="product-cards"></div>
  </div>

  <div class="footer">
    <p>Prototype — CHC Approval Odds MVP | MoneyHero HK | 2026-02-25</p>
  </div>
</div>

<!-- Floating Tooltip -->
<div class="floating-tooltip" id="floating-tooltip">批核機會根據與您相似信貸狀況的用戶數據估算，僅供參考，不保證獲批或被拒。</div>

</div><!-- /app-content -->

<script>
  // ── Auth ──
  function simpleHash(s){let h=0;for(let i=0;i<s.length;i++){h=((h<<5)-h+s.charCodeAt(i))|0}return(h>>>0).toString(16).padStart(8,'0')}
  const EXPECTED=simpleHash('chc-moneyhero');
  function checkPassword(){
    const input=document.getElementById('gate-input'),err=document.getElementById('gate-error');
    if(simpleHash(input.value)===EXPECTED){document.getElementById('password-gate').classList.add('hidden');document.getElementById('app-content').classList.add('visible');sessionStorage.setItem('proto-auth','1')}
    else{input.classList.add('error');err.textContent='Incorrect password';setTimeout(()=>{input.classList.remove('error');err.textContent=''},1500)}
  }
  document.addEventListener('DOMContentLoaded',()=>{
    if(sessionStorage.getItem('proto-auth')==='1'){document.getElementById('password-gate').classList.add('hidden');document.getElementById('app-content').classList.add('visible')}
    document.getElementById('gate-input').addEventListener('keydown',e=>{if(e.key==='Enter')checkPassword()});
    renderProducts();
    renderCards();
  });

  // ── Data ──
  const CDN='https://mhgprod.blob.core.windows.net/moneyhero/strapi-uploads/';
  const products=[
    {id:0,name:'Citi 特快現金私人貸款',logo:CDN+'xsmall_bltd5bc304e27d1f2ec_2daddc24b3.webp',monthly:'HK$8,459',interest:'HK$3,024',apr:'1.40%',fee:'HK$0',reward:'HK$6,088',tag:'全城最高優惠',tagClass:'exclusive',odds:'high'},
    {id:1,name:'WeLend 私人貸款',logo:CDN+'xsmall_blta2b1c7656f55bafa_2cd3613af9.webp',monthly:'HK$8,495',interest:'HK$3,888',apr:'1.00%',fee:'HK$0',reward:'HK$3,600',tag:'全城最高優惠',tagClass:'exclusive',odds:'high'},
    {id:2,name:'渣打銀行 私人貸款',logo:CDN+'xsmall_blt79d486a21f7098a1_824ca9b71f.webp',monthly:'HK$8,499',interest:'HK$3,984',apr:'1.85%',fee:'HK$0',reward:'HK$3,000',tag:'0%手續費',tagClass:'',odds:'medium'},
    {id:3,name:'【全年0息】i-Money 網上錢私人貸款',logo:CDN+'xsmall_bltd2365780e022fcf3_5333673be3.webp',monthly:'HK$8,333',interest:'HK$0',apr:'0.00%',fee:'免手續費',reward:'HK$800',tag:'全年0息',tagClass:'',odds:'medium'},
    {id:4,name:'OCBC 華僑銀行「零息稅貸」稅務貸款',logo:CDN+'large_blt23057d4748878759_590c2706f9.webp',monthly:'HK$8,573',interest:'HK$0',apr:'1.38%',fee:'HK$5,760',reward:'HK$5,888',tag:'稅季貸款',tagClass:'tax',odds:'low'},
    {id:5,name:'安信 定額私人貸款',logo:CDN+'xsmall_blt4351440a848723f8_4955301d54.webp',monthly:'HK$8,433',interest:'HK$2,400',apr:'1.18%',fee:'HK$0',reward:'HK$18,000',tag:'急救之選',tagClass:'fast',odds:'high'},
    {id:6,name:'信銀國際 $mart Plus 分期貸款 (稅季優惠)',logo:CDN+'large_CNCBI_b1b80c54d9.jpeg',monthly:'HK$8,373',interest:'HK$960',apr:'1.38%',fee:'HK$2,000',reward:'HK$2,388',tag:'稅季貸款',tagClass:'tax',odds:'low'},
    {id:7,name:'邦民 特快低息貸款',logo:CDN+'xlarge_blt85d396e2e90b641d_88c6c1e85e.webp',monthly:'HK$8,433',interest:'HK$2,400',apr:'1.12%',fee:'HK$0',reward:'HK$4,000',tag:'特快批核',tagClass:'fast',odds:'high'},
    {id:8,name:'中銀分期「易達錢」- 税季貸款',logo:CDN+'Provider_Bank_of_China_Type_Banking_e9e9564c7b.svg',monthly:'HK$8,457',interest:'HK$2,976',apr:'1.38%',fee:'HK$0',reward:'HK$16,888',tag:'稅季貸款',tagClass:'tax',odds:'medium'},
    {id:9,name:'星展銀行 「貸易清」私人貸款',logo:CDN+'xsmall_bltd52f9e43a0153b83_f3fa3017e3.webp',monthly:'HK$8,553',interest:'HK$5,280',apr:'6.38%',fee:'HK$0',reward:'HK$4,188',tag:'結餘轉戶',tagClass:'balance',odds:'medium'},
    {id:10,name:'建行(亞洲)「好現金」私人分期貸款',logo:CDN+'xsmall_blt906eac307edaeae8_ed7f9df17e.webp',monthly:'HK$8,478',interest:'HK$3,470',apr:'1.50%',fee:'HK$0',reward:'HK$3,500',tag:'稅季貸款',tagClass:'tax',odds:'high'},
    {id:11,name:'東亞銀行稅季貸款',logo:CDN+'small_blt8f59f362edfcf530_71e5830954.webp',monthly:'HK$8,423',interest:'HK$2,160',apr:'1.00%',fee:'HK$0',reward:'HK$14,387',tag:'稅季貸款',tagClass:'tax',odds:'high'},
    {id:12,name:'WeLab Bank 私人分期貸款 (稅季適用)',logo:CDN+'xsmall_Welab_bank_65a067a7aa.webp',monthly:'HK$8,493',interest:'HK$3,840',apr:'0.65%',fee:'HK$0',reward:'HK$1,000',tag:'稅季貸款',tagClass:'tax',odds:'medium'},
    {id:13,name:'CreFIT 現金貸',logo:CDN+'xlarge_blt9b38cc40f974e6de_213f8726eb.webp',monthly:'HK$8,453',interest:'HK$2,875',apr:'1.38%',fee:'HK$0',reward:'HK$23,200',tag:'特快批核',tagClass:'fast',odds:'high'},
    {id:14,name:'ZA Bank 分期貸款 – 稅季優惠',logo:CDN+'xsmall_blt4c2232b1c100bbe4_d2ba2cf7e2.webp',monthly:'HK$8,450',interest:'HK$2,803',apr:'1.30%',fee:'HK$0',reward:'HK$4,000',tag:'稅季貸款',tagClass:'tax',odds:'medium'},
    {id:15,name:'滙豐稅季分期「萬應錢」',logo:CDN+'small_blt75b294817c4dec42_311ad151c0.webp',monthly:'HK$8,873',interest:'HK$12,960',apr:'6.28%',fee:'HK$0',reward:'HK$1,100',tag:'稅季貸款',tagClass:'tax',odds:'low'},
    {id:16,name:'大新 交稅「快應錢」',logo:CDN+'medium_bltfe73bbbcb1ba871a_bbee0a1f7d.webp',monthly:'HK$8,556',interest:'HK$5,352',apr:'1.18%',fee:'HK$0',reward:'HK$1,200',tag:'稅季貸款',tagClass:'tax',odds:'medium'},
    {id:17,name:'Cashing Pro 特快私人貸款',logo:CDN+'xlarge_bltffc6528b94c7bbae_3b2fd5a591.webp',monthly:'HK$8,733',interest:'HK$9,600',apr:'4.40%',fee:'HK$0',reward:'HK$1,500',tag:'特快批核',tagClass:'fast',odds:'high'},
    {id:18,name:'MONEY RICH 特快私人貸款',logo:CDN+'small_moneyrichimage_b3b31be7ad.webp',monthly:'HK$8,513',interest:'HK$4,301',apr:'1.98%',fee:'HK$0',reward:'HK$800',tag:'特快批核',tagClass:'fast',odds:'medium'},
    {id:19,name:'Mox「即時借」(稅季適用)(新客戶)',logo:CDN+'xsmall_blt2f45e9de76f69207_44602c5f27.webp',monthly:'HK$8,447',interest:'HK$2,736',apr:'1.18%',fee:'HK$0',reward:'HK$1,000',tag:'稅季貸款',tagClass:'tax',odds:'medium'},
  ];

  let currentState='fresh';
  let currentView='both';

  // ═══ TABLE RENDER ═══
  function renderProducts(){
    document.getElementById('product-list').innerHTML=products.map(p=>`
      <div class="product-row" id="row-${p.id}">
        <div class="provider">
          <div class="provider-logo"><img src="${p.logo}" alt="" loading="lazy"></div>
          <div>
            <div class="provider-name">${p.name}</div>
            ${p.tag?`<span class="provider-tag ${p.tagClass}">${p.tag}</span>`:''}
            <div class="provider-reward">&#127873; 高達 ${p.reward} 獎賞</div>
            <span class="row-expand" onclick="toggleDetail('detail-${p.id}')">查看詳情 &#9662;</span>
          </div>
        </div>
        <div class="odds-cell" id="odds-${p.id}"></div>
        <div class="cell"><div class="value">${p.apr}</div><div class="label">實際年利率</div></div>
        <div class="cell"><div class="value">${p.monthly}</div><div class="label">每月還款</div></div>
        <div class="cell"><div class="value">${p.interest}</div><div class="label">總利息</div></div>
        <div class="cell" style="text-align:center"><div class="value" style="color:#e67e00;font-size:14px">${p.reward}</div><div class="label">MoneyHero 獨家</div></div>
        <div style="text-align:right"><button class="btn-apply">立即申請</button></div>
      </div>
      <div class="product-detail" id="detail-${p.id}">
        <div class="product-detail-inner"><div class="detail-grid">
          <div class="detail-section">
            <div class="detail-section-title">貸款詳情</div>
            <p>每月還款：${p.monthly}<br>總利息支出：${p.interest}<br>實際年利率：${p.apr}<br>手續費：${p.fee}<br>MoneyHero 獨家：<span style="color:#e67e00;font-weight:700">${p.reward}</span></p>
          </div>
          <div class="detail-section" id="detail-odds-${p.id}"></div>
        </div></div>
      </div>
    `).join('');
    updateOdds();
  }

  // ═══ CARD RENDER ═══
  function renderCards(){
    document.getElementById('product-cards').innerHTML=products.slice(0,6).map(p=>`
      <div class="product-card" id="card-${p.id}">
        <div class="card-header">
          <div class="card-logo"><img src="${p.logo}" alt="" loading="lazy"></div>
          <div class="card-header-info">
            <div class="card-product-name">${p.name}</div>
            <div class="card-tags">
              ${p.tag?`<span class="card-tag ${p.tagClass}">${p.tag}</span>`:''}
            </div>
            <div class="card-reward-line">&#127873; MoneyHero 獎賞高達 ${p.reward}</div>
          </div>
          <div class="card-header-apply"><button class="btn-apply">立即申請</button></div>
        </div>

        <div class="card-stats">
          <div class="card-stat">
            <div class="stat-label">每月還款額低至</div>
            <div class="stat-value">${p.monthly}</div>
          </div>
          <div class="card-stat">
            <div class="stat-label">總利息低至</div>
            <div class="stat-value">${p.interest}</div>
          </div>
          <div class="card-stat">
            <div class="stat-label">最低實際年利率</div>
            <div class="stat-value">${p.apr}</div>
          </div>
          <div class="card-stat">
            <div class="stat-label">手續費低至</div>
            <div class="stat-value">${p.fee}</div>
          </div>
        </div>

        <!-- APPROVAL ODDS — always visible banner -->
        <div id="card-odds-${p.id}"></div>

        <div class="card-accordions">
          <!-- MH REWARDS ACCORDION -->
          <div class="card-accordion">
            <div class="card-accordion-header" onclick="toggleCardAccordion(this)">
              &#127873; MoneyHero獎賞價值
              <span class="acc-arrow">&#9660;</span>
            </div>
            <div class="card-accordion-body">
              <div class="card-accordion-content">
                <div class="card-reward-detail">
                  <span class="reward-icon">&#127873;</span>
                  <span class="reward-text">高達 ${p.reward} 獎賞</span>
                </div>
                <p style="font-size:12px;color:#666">透過 MoneyHero 成功申請可獲獎賞。受條款及細則約束。</p>
              </div>
            </div>
          </div>

          <!-- APPLICATION STEPS ACCORDION -->
          <div class="card-accordion">
            <div class="card-accordion-header" onclick="toggleCardAccordion(this)">
              申請步驟
              <span class="acc-arrow">&#9660;</span>
            </div>
            <div class="card-accordion-body">
              <div class="card-accordion-content">
                <ol class="card-steps">
                  <li>點擊「立即申請」前往銀行網站</li>
                  <li>填寫申請表格及上傳所需文件</li>
                  <li>銀行審批及通知結果</li>
                </ol>
              </div>
            </div>
          </div>

          <!-- PRODUCT ANALYSIS ACCORDION -->
          <div class="card-accordion">
            <div class="card-accordion-header" onclick="toggleCardAccordion(this)">
              MoneyHero 產品分析
              <span class="acc-arrow">&#9660;</span>
            </div>
            <div class="card-accordion-body">
              <div class="card-accordion-content">
                <ul class="card-features">
                  <li>實際年利率低至 ${p.apr}</li>
                  <li>手續費：${p.fee}</li>
                  <li>適合有穩定收入的申請人</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- ELIGIBILITY ACCORDION -->
          <div class="card-accordion">
            <div class="card-accordion-header" onclick="toggleCardAccordion(this)">
              產品資訊
              <span class="acc-arrow">&#9660;</span>
            </div>
            <div class="card-accordion-body">
              <div class="card-accordion-content">
                <p style="font-size:13px;color:#555;line-height:1.7">年齡要求：18歲或以上<br>最低年薪要求：HK$60,000<br>申請人須為香港居民</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    `).join('');
    updateCardOdds();
  }

  // ═══ ODDS UPDATE — TABLE ═══
  function updateOdds(){
    products.forEach(p=>{
      const cell=document.getElementById('odds-'+p.id), detail=document.getElementById('detail-odds-'+p.id);
      if(!cell||!detail)return;
      const o=p.odds, labels={high:'高',medium:'中',low:'低'}, label=labels[o];
      if(currentState==='fresh'){
        cell.innerHTML='<span class="odds-badge '+o+'">'+label+'</span>';
        detail.innerHTML='<div class="detail-section-title">批核機會</div><div class="detail-odds-value"><span class="odds-badge '+o+'">'+label+'</span></div><p class="updated">最後更新：2026年2月25日</p><p>批核機會根據您的信貸狀況估算您獲批此產品的可能性，乃基於其他相似信貸狀況用戶的數據。此評估僅供參考，不保證獲批或被拒。</p>';
      }else if(currentState==='stale'){
        cell.innerHTML='<span class="odds-badge '+o+'" style="opacity:.6">'+label+'</span><span class="odds-stale-label">已過期</span>';
        detail.innerHTML='<div class="detail-section-title">批核機會</div><div class="detail-odds-value"><span class="odds-badge '+o+'" style="opacity:.6">'+label+'</span></div><p class="updated">最後更新：2025年11月12日</p><p><span class="refresh-link">登入 Credit Hero Club 以更新您的批核機會。</span></p><p style="margin-top:6px">批核機會根據您的信貸狀況估算您獲批此產品的可能性，乃基於其他相似信貸狀況用戶的數據。此評估僅供參考，不保證獲批或被拒。</p>';
      }else{
        cell.innerHTML='<span class="odds-signin">登入查看</span>';
        detail.innerHTML='<div class="detail-section-title">批核機會</div><div class="detail-odds-value" style="color:#888">批核機會：？</div><p><span class="refresh-link">免費查閱信貸報告以了解您的批核機會</span></p><p style="margin-top:6px">批核機會根據您的信貸狀況估算您獲批此產品的可能性，乃基於其他相似信貸狀況用戶的數據。此評估僅供參考，不保證獲批或被拒。</p>';
      }
    });
  }

  // ═══ ODDS UPDATE — CARDS (always visible banner) ═══
  function updateCardOdds(){
    products.slice(0,6).forEach(p=>{
      const el=document.getElementById('card-odds-'+p.id);
      if(!el)return;
      const o=p.odds, labels={high:'高',medium:'中',low:'低'}, label=labels[o];
      if(currentState==='fresh'){
        el.innerHTML=`<div class="card-odds-banner">
          <span class="cob-label">批核機會 <span class="info-icon" onmouseenter="showTooltip(event)" onmouseleave="hideTooltip()">&#9432;</span></span>
          <span class="cob-badge"><span class="odds-badge ${o}">${label}</span></span>
          <span class="cob-meta">更新：2026年2月25日</span>
        </div>`;
      }else if(currentState==='stale'){
        el.innerHTML=`<div class="card-odds-banner">
          <span class="cob-label">批核機會 <span class="info-icon" onmouseenter="showTooltip(event)" onmouseleave="hideTooltip()">&#9432;</span></span>
          <span class="cob-badge"><span class="odds-badge ${o}" style="opacity:.6">${label}</span></span>
          <span class="cob-stale">已過期</span>
          <span class="cob-refresh">登入 CHC 更新</span>
        </div>`;
      }else{
        el.innerHTML=`<div class="card-odds-guest">
          <span class="cob-label">批核機會：？</span>
          <a href="#">免費查閱信貸報告以了解您的批核機會</a>
        </div>`;
      }
    });
  }

  // ═══ STATE / VIEW TOGGLES ═══
  function setState(state,btn){
    currentState=state;
    btn.closest('.btn-group').querySelectorAll('button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    document.querySelectorAll('.banner-el').forEach(el=>{el.style.display=el.dataset.state===state?'flex':'none'});
    document.querySelectorAll('.ri').forEach(el=>{
      if(state==='fresh')el.innerHTML='顯示 <strong>59</strong> 個貸款產品，按批核機會排序';
      else if(state==='stale')el.innerHTML='顯示 <strong>59</strong> 個貸款產品，按批核機會排序 <span style="color:#a16207">（數據已過期）</span>';
      else el.innerHTML='顯示 <strong>59</strong> 個貸款產品';
    });
    updateOdds();
    updateCardOdds();
  }

  function setView(view,btn){
    currentView=view;
    btn.closest('.btn-group').querySelectorAll('button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById('table-view').style.display=(view==='cards')?'none':'block';
    document.getElementById('cards-view').style.display=(view==='table')?'none':'block';
  }

  function toggleDetail(id){document.getElementById(id).classList.toggle('open')}

  function toggleCardAccordion(header){
    header.classList.toggle('open');
    const body=header.nextElementSibling;
    body.classList.toggle('open');
  }

  // ═══ FLOATING TOOLTIP ═══
  function showTooltip(e){
    const tip=document.getElementById('floating-tooltip');
    const rect=e.target.getBoundingClientRect();
    tip.style.display='block';
    tip.style.left=(rect.left+rect.width/2-130)+'px';
    tip.style.top=(rect.top-tip.offsetHeight-10)+'px';
  }
  function hideTooltip(){
    document.getElementById('floating-tooltip').style.display='none';
  }
</script>
</body>
</html>
